"use strict";function mockAjax(t){mockList.push(t)}jQuery(document).ready(function(t){var e=new GoogleAnalyzer;e.init();var n=new Tumblr,a=t("#cold-tmblr");n.init(t),n.getData("text",function(e){if("OK"==e.meta.msg)for(var n in e.response.posts)a.append(t("<article>").html(e.response.posts[n].body))})});var GoogleAnalyzer=function(){var t=[],e=(document.location.host,function(){t=$("a").not("."+this.outboundLinksExcludeClassName).not("a[href^='/']").not("a[href^='mailto']").not("a[href^='ftp']").not("a[href^='file']").not("a[href^='tel']").not("a[href^='fax']").not("a[href^='data']").not("a[href^='javascript']").not("a[href^='#']"),$(t).on("click",n)}),n=function(){_gaq.push(["_trackEvent","Outgoing Links",this.href,document.location.pathname+document.location.search])};return{init:e,trackOutboundLink:n}},Tumblr=function(){var t,e={key:"JF1gaswtw9E1npDP7mtDhBfhgsdxRrhovUBIF52VPJj13hnzFZ",base_url:"http://api.tumblr.com/v2/blog/euradionantes-ep2014.tumblr.com/"},n=function(e){t=e},a=function(t){return e.base_url+"posts/"+t+"?api_key="+e.key},r=function(e,n){t.ajax({url:a(e),dataType:"jsonp",success:function(t){return n(t)}})};return{init:n,getUrl:a,getData:r}}(function(t){var e,n,a,r=function(t){var e=function(t){return{h:Math.floor(t/36e5),m:Math.floor(t/6e4%60),s:Math.floor(t/1e3%60)}}(t),n=[];return e.h>0&&n.push(e.h),n.push(e.m<10&&e.h>0?"0"+e.m:e.m),n.push(e.s<10?"0"+e.s:e.s),n.join(".")},o=function(t){return t.sort(function(){return 1-Math.floor(3*Math.random())}),t},s=!0,i=!1,c=t(document),l=function(){try{s&&window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}catch(t){}},u=i?"sandbox-soundcloud.com":"soundcloud.com",d="https:"===document.location.protocol,f=function(t,e){var n=(d||/^https/i.test(t)?"https":"http")+"://api."+u+"/resolve?url=",a="format=json&consumer_key="+e+"&callback=?";return d&&(t=t.replace(/^http:/,"https:")),/api\./.test(t)?t+"?"+a:n+t+"&"+a},p=function(){var e=function(){var t=!1;try{var e=new Audio;t=e.canPlayType&&/maybe|probably/.test(e.canPlayType("audio/mpeg"))}catch(n){}return t}(),n={onReady:function(){c.trigger("scPlayer:onAudioReady")},onPlay:function(){c.trigger("scPlayer:onMediaPlay")},onPause:function(){c.trigger("scPlayer:onMediaPause")},onEnd:function(){c.trigger("scPlayer:onMediaEnd")},onBuffer:function(t){c.trigger({type:"scPlayer:onMediaBuffering",percent:t})}},a=function(){var e=new Audio,a=function(t){var e=t.target,a=(e.buffered.length&&e.buffered.end(0))/e.duration*100;n.onBuffer(a),e.currentTime===e.duration&&n.onEnd()},r=function(t){var e=t.target,a=(e.buffered.length&&e.buffered.end(0))/e.duration*100;n.onBuffer(a)};return t('<div class="sc-player-engine-container"></div>').appendTo(document.body).append(e),e.addEventListener("play",n.onPlay,!1),e.addEventListener("pause",n.onPause,!1),e.addEventListener("timeupdate",a,!1),e.addEventListener("progress",r,!1),{load:function(t,n){e.pause(),e.src=t.stream_url+(/\?/.test(t.stream_url)?"&":"?")+"consumer_key="+n,e.load(),e.play()},play:function(){e.play()},pause:function(){e.pause()},stop:function(){e.currentTime&&(e.currentTime=0,e.pause())},seek:function(t){e.currentTime=e.duration*t,e.play()},getDuration:function(){return 1e3*e.duration},getPosition:function(){return 1e3*e.currentTime},setVolume:function(t){e.volume=t/100}}},r=function(){var e,a="scPlayerEngine",r=function(e){var n=(d?"https":"http")+"://player."+u+"/player.swf?url="+e+"&amp;enable_api=true&amp;player_type=engine&amp;object_id="+a;return t.browser.msie?'<object height="100%" width="100%" id="'+a+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+n+'"><param name="movie" value="'+n+'" /><param name="allowscriptaccess" value="always" /></object>':'<object height="100%" width="100%" id="'+a+'"><embed allowscriptaccess="always" height="100%" width="100%" src="'+n+'" type="application/x-shockwave-flash" name="'+a+'" /></object>'};return soundcloud.addEventListener("onPlayerReady",function(){e=soundcloud.getPlayer(a),n.onReady()}),soundcloud.addEventListener("onMediaEnd",n.onEnd),soundcloud.addEventListener("onMediaBuffering",function(t,e){n.onBuffer(e.percent)}),soundcloud.addEventListener("onMediaPlay",n.onPlay),soundcloud.addEventListener("onMediaPause",n.onPause),{load:function(n){var a=n.uri;e?e.api_load(a):t('<div class="sc-player-engine-container"></div>').appendTo(document.body).html(r(a))},play:function(){e&&e.api_play()},pause:function(){e&&e.api_pause()},stop:function(){e&&e.api_stop()},seek:function(t){e&&e.api_seekTo(e.api_getTrackDuration()*t)},getDuration:function(){return e&&e.api_getTrackDuration&&1e3*e.api_getTrackDuration()},getPosition:function(){return e&&e.api_getTrackPosition&&1e3*e.api_getTrackPosition()},setVolume:function(t){e&&e.api_setVolume&&e.api_setVolume(t)}}};return e?a():r()}(),h=!1,m=[],y={},g=function(n,a,r){var o=0,s={node:n,tracks:[]},i=function(n){var r=f(n.url,e);t.getJSON(r,function(e){o+=1,e.tracks?s.tracks=s.tracks.concat(e.tracks):e.duration?(e.permalink_url=n.url,s.tracks.push(e)):e.creator?a.push({url:e.uri+"/tracks"}):e.username?a.push(/favorites/.test(n.url)?{url:e.uri+"/favorites"}:{url:e.uri+"/tracks"}):t.isArray(e)&&(s.tracks=s.tracks.concat(e)),a[o]?i(a[o]):s.node.trigger({type:"onTrackDataLoaded",playerObj:s,url:r})})};e=r,m.push(s),i(a[o])},v=function(t,e){return e?'<div class="sc-loading-artwork">Loading Artwork</div>':t.artwork_url?'<img src="'+t.artwork_url.replace("-large","-t300x300")+'"/>':'<div class="sc-no-artwork">No Artwork</div>'},k=function(e,n){t(".sc-info",e).each(function(){t("h3",this).html('<a href="'+n.permalink_url+'">'+n.title+"</a>"),t("h4",this).html('by <a href="'+n.user.permalink_url+'">'+n.user.username+"</a>"),t("p",this).html(n.description||"no Description")}),t(".sc-artwork-list li",e).each(function(){var e=t(this),a=e.data("sc-track");a===n?e.addClass("active").find(".sc-loading-artwork").each(function(){t(this).removeClass("sc-loading-artwork").html(v(n,!1))}):e.removeClass("active")}),t(".sc-duration",e).html(r(n.duration)),t(".sc-waveform-container",e).html('<img src="'+n.waveform_url+'" />'),e.trigger("onPlayerTrackSwitch.scPlayer",[n])},b=function(t){var a=t.permalink_url;n===a?p.play():(n=a,p.load(t,e))},w=function(e){return m[t(e).data("sc-player").id]},T=function(e,n){n&&t("div.sc-player.playing").removeClass("playing"),t(e).toggleClass("playing",n).trigger(n?"onPlayerPlay":"onPlayerPause")},P=function(e,n){var a=w(e).tracks[n||0];k(e,a),y={$buffer:t(".sc-buffer",e),$played:t(".sc-played",e),position:t(".sc-position",e)[0]},T(e,!0),b(a)},x=function(t){T(t,!1),p.pause()},q=function(){var t=y.$played.closest(".sc-player");y.$played.css("width","0%"),y.position.innerHTML=r(0),T(t,!1),p.stop(),t.trigger("onPlayerTrackFinish")},$=function(e,n){p.seek(n),t(e).trigger("onPlayerSeek")},E=function(e){var n=t(e);l("track finished get the next one"),$nextItem=t(".sc-trackslist li.active",n).next("li"),$nextItem.length||($nextItem=n.nextAll("div.sc-player:first").find(".sc-trackslist li.active")),$nextItem.click()},M=function(){var t=80,e=document.cookie.split(";"),n=new RegExp("scPlayer_volume=(\\d+)");for(var a in e)if(n.test(e[a])){t=parseInt(e[a].match(n)[1],10);break}return t}(),j=function(t){var e=Math.floor(t),n=new Date;n.setTime(n.getTime()+31536e6),M=e,document.cookie=["scPlayer_volume=",e,"; expires=",n.toUTCString(),'; path="/"'].join(""),p.setVolume(M)};c.bind("scPlayer:onAudioReady",function(){l("onPlayerReady: audio engine is ready"),p.play(),j(M)}).bind("scPlayer:onMediaPlay",function(){clearInterval(a),a=setInterval(function(){var t=p.getDuration(),e=p.getPosition(),n=e/t;y.$played.css("width",100*n+"%"),y.position.innerHTML=r(e),c.trigger({type:"onMediaTimeUpdate.scPlayer",duration:t,position:e,relative:n})},500)}).bind("scPlayer:onMediaPause",function(){clearInterval(a),a=null}).bind("scPlayer:onVolumeChange",function(t){j(t.volume)}).bind("scPlayer:onMediaEnd",function(){q()}).bind("scPlayer:onMediaBuffering",function(t){y.$buffer.css("width",t.percent+"%")}),t.scPlayer=function(e,n){var a=t.extend({},t.scPlayer.defaults,e),s=m.length,i=n&&t(n),c=i[0].className.replace("sc-player",""),l=a.links||t.map(t("a",i).add(i.filter("a")),function(t){return{url:t.href,title:t.innerHTML}}),u=t('<div class="sc-player loading"></div>').data("sc-player",{id:s}),d=t('<ol class="sc-artwork-list"></ol>').appendTo(u),f=(t('<div class="sc-info"><h3></h3><h4></h4><p></p><a href="#" class="sc-info-close">X</a></div>').appendTo(u),t('<div class="sc-controls"></div>').appendTo(u),t('<ol class="sc-trackslist"></ol>').appendTo(u));return(c||a.customClass)&&u.addClass(c).addClass(a.customClass),u.find(".sc-controls").append('<a href="#play" class="sc-play">Play</a> <a href="#pause" class="sc-pause hidden">Pause</a>').end().append('<a href="#info" class="sc-info-toggle">Info</a>').append('<div class="sc-scrubber"></div>').find(".sc-scrubber").append('<div class="sc-volume-slider"><span class="sc-volume-status" style="width:'+M+'%"></span></div>').append('<div class="sc-time-span"><div class="sc-waveform-container"></div><div class="sc-buffer"></div><div class="sc-played"></div></div>').append('<div class="sc-time-indicators"><span class="sc-position"></span> | <span class="sc-duration"></span></div>'),g(u,l,a.apiKey),u.bind("onTrackDataLoaded.scPlayer",function(e){var n=e.playerObj.tracks;a.randomize&&(n=o(n)),t.each(n,function(e,n){var o=0===e;t('<li><a href="'+n.permalink_url+'">'+n.title+'</a><span class="sc-track-duration">'+r(n.duration)+"</span></li>").data("sc-track",{id:e}).toggleClass("active",o).appendTo(f),t("<li></li>").append(v(n,e>=a.loadArtworks)).appendTo(d).toggleClass("active",o).data("sc-track",n)}),u.each(function(){t.isFunction(a.beforeRender)&&a.beforeRender.call(this,n)}),t(".sc-duration",u)[0].innerHTML=r(n[0].duration),t(".sc-position",u)[0].innerHTML=r(0),k(u,n[0]),a.continuePlayback&&u.bind("onPlayerTrackFinish",function(){E(u)}),u.removeClass("loading").trigger("onPlayerInit"),a.autoPlay&&!h&&(P(u),h=!0)}),i.each(function(){t(this).replaceWith(u)}),u},t.scPlayer.stopAll=function(){t(".sc-player.playing a.sc-pause").click()},t.scPlayer.destroy=function(){t(".sc-player, .sc-player-engine-container").remove()},t.fn.scPlayer=function(e){return h=!1,this.each(function(){t.scPlayer(e,this)}),this},t.scPlayer.defaults=t.fn.scPlayer.defaults={customClass:null,beforeRender:function(){t(this)},onDomReady:function(){t("a.sc-player, div.sc-player").scPlayer()},autoPlay:!1,continuePlayback:!0,randomize:!1,loadArtworks:5,apiKey:"htuiRd1JP11Ww0X72T1C3g"},t(document).on("click","a.sc-play, a.sc-pause",function(){var e=t(this).closest(".sc-player").find("ol.sc-trackslist");return e.find("li.active").click(),!1}),t(document).on("click","a.sc-info-toggle, a.sc-info-close",function(){var e=t(this);return e.closest(".sc-player").find(".sc-info").toggleClass("active").end().find("a.sc-info-toggle").toggleClass("active"),!1}),t(document).on("click",".sc-trackslist li",function(){var e=t(this),n=e.closest(".sc-player"),a=e.data("sc-track").id,r=n.is(":not(.playing)")||e.is(":not(.active)");return r?P(n,a):x(n),e.addClass("active").siblings("li").removeClass("active"),t(".artworks li",n).each(function(e){t(this).toggleClass("active",e===a)}),!1});var C=function(e,n){var a=t(e).closest(".sc-time-span"),r=a.find(".sc-buffer"),o=a.find(".sc-waveform-container img"),s=a.closest(".sc-player"),i=Math.min(r.width(),n-o.offset().left)/o.width();$(s,i)},D=function(t){1===t.targetTouches.length&&(C(t.target,t.targetTouches&&t.targetTouches.length&&t.targetTouches[0].clientX),t.preventDefault())};t(document).on("click",".sc-time-span",function(t){return C(this,t.pageX),!1}).on("touchstart",".sc-time-span",function(t){this.addEventListener("touchmove",D,!1),t.originalEvent.preventDefault()}).on("touchend",".sc-time-span",function(t){this.removeEventListener("touchmove",D,!1),t.originalEvent.preventDefault()});var _=function(e,n){var a=t(e),r=a.offset().left,o=a.width(),s=function(t){return Math.floor((t-r)/o*100)},i=function(t){c.trigger({type:"scPlayer:onVolumeChange",volume:s(t.pageX)})};a.bind("mousemove.sc-player",i),i(n)},S=function(e){t(e).unbind("mousemove.sc-player")};t(document).on("mousedown",".sc-volume-slider",function(t){_(this,t)}).on("mouseup",".sc-volume-slider",function(t){S(this,t)}),c.bind("scPlayer:onVolumeChange",function(e){t("span.sc-volume-status").css({width:e.volume+"%"})}),t(function(){t.isFunction(t.scPlayer.defaults.onDomReady)&&t.scPlayer.defaults.onDomReady()})})(jQuery);!function(){{var t=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent);window.soundcloud={version:"0.1",debug:!1,_listeners:[],_redispatch:function(t,e,n){var a,r=this._listeners[t]||[],o="soundcloud:"+t;try{a=this.getPlayer(e)}catch(s){return void(this.debug&&window.console&&console.error("unable to dispatch widget event "+t+" for the widget id "+e,n,s))}window.jQuery?jQuery(a).trigger(o,[n]):window.Prototype&&$(a).fire(o,n);for(var i=0,c=r.length;c>i;i+=1)r[i].apply(a,[a,n]);this.debug&&window.console&&console.log(o,t,e,n)},addEventListener:function(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)},removeEventListener:function(t,e){for(var n=this._listeners[t]||[],a=0,r=n.length;r>a;a+=1)n[a]===e&&n.splice(a,1)},getPlayer:function(e){var n;try{if(!e)throw"The SoundCloud Widget DOM object needs an id atribute, please refer to SoundCloud Widget API documentation.";if(n=t?window[e]:document[e]){if(n.api_getFlashId)return n;throw"The SoundCloud Widget External Interface is not accessible. Check that allowscriptaccess is set to 'always' in embed code"}throw"The SoundCloud Widget with an id "+e+" couldn't be found"}catch(a){throw console&&console.error&&console.error(a),a}},onPlayerReady:function(t,e){this._redispatch("onPlayerReady",t,e)},onMediaStart:function(t,e){this._redispatch("onMediaStart",t,e)},onMediaEnd:function(t,e){this._redispatch("onMediaEnd",t,e)},onMediaPlay:function(t,e){this._redispatch("onMediaPlay",t,e)},onMediaPause:function(t,e){this._redispatch("onMediaPause",t,e)},onMediaBuffering:function(t,e){this._redispatch("onMediaBuffering",t,e)},onMediaSeek:function(t,e){this._redispatch("onMediaSeek",t,e)},onMediaDoneBuffering:function(t,e){this._redispatch("onMediaDoneBuffering",t,e)},onPlayerError:function(t,e){this._redispatch("onPlayerError",t,e)}}}}(),function(t){function e(){k.autorun=!0,k.currentModule&&v.moduleDone({name:k.currentModule,failed:k.moduleStats.bad,passed:k.moduleStats.all-k.moduleStats.bad,total:k.moduleStats.all});var t=p("qunit-banner"),e=p("qunit-tests"),n=+new Date-k.started,a=k.stats.all-k.stats.bad,r=["Tests completed in ",n," milliseconds.<br/>",'<span class="passed">',a,'</span> tests of <span class="total">',k.stats.all,'</span> passed, <span class="failed">',k.stats.bad,"</span> failed."].join("");t&&(t.className=k.stats.bad?"qunit-fail":"qunit-pass"),e&&(p("qunit-testresult").innerHTML=r),"undefined"!=typeof document&&document.title&&(document.title=(k.stats.bad?"✖":"✔")+" "+document.title),v.done({failed:k.stats.bad,passed:a,total:k.stats.all,runtime:n})}function n(t){var e=k.filter,n=!1;if(!e)return!0;var a="!"===e.charAt(0);return a&&(e=e.slice(1)),-1!==t.indexOf(e)?!a:(a&&(n=!0),n)}function a(){try{throw new Error}catch(t){if(t.stacktrace)return t.stacktrace.split("\n")[6];if(t.stack)return t.stack.split("\n")[4]}}function r(t){return t?(t+="",t.replace(/[\&"<>\\]/g,function(t){switch(t){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return t}})):""}function o(t){k.queue.push(t),k.autorun&&!k.blocking&&s()}function s(){for(var n=(new Date).getTime();k.queue.length&&!k.blocking;){if(!(k.updateRate<=0||(new Date).getTime()-n<k.updateRate)){t.setTimeout(s,13);break}k.queue.shift()()}k.blocking||k.queue.length||e()}function i(){if(k.pollution=[],k.noglobals)for(var e in t)k.pollution.push(e)}function c(){var t=k.pollution;i();var e=l(k.pollution,t);e.length>0&&ok(!1,"Introduced global variable(s): "+e.join(", "));var n=l(t,k.pollution);n.length>0&&ok(!1,"Deleted global variable(s): "+n.join(", "))}function l(t,e){for(var n=t.slice(),a=0;a<n.length;a++)for(var r=0;r<e.length;r++)if(n[a]===e[r]){n.splice(a,1),a--;break}return n}function u(e,n,a){"undefined"!=typeof console&&console.error&&console.warn?(console.error(e),console.error(n),console.warn(a.toString())):t.opera&&opera.postError&&opera.postError(e,n,a.toString)}function d(t,e){for(var n in e)void 0===e[n]?delete t[n]:t[n]=e[n];return t}function f(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):n()}function p(t){return!("undefined"==typeof document||!document||!document.getElementById)&&document.getElementById(t)}function h(t){for(var e,n="",a=0;t[a];a++)e=t[a],3===e.nodeType||4===e.nodeType?n+=e.nodeValue:8!==e.nodeType&&(n+=h(e.childNodes));return n}var m={setTimeout:"undefined"!=typeof t.setTimeout,sessionStorage:function(){try{return!!sessionStorage.getItem}catch(t){return!1}}()},y=0,g=function(t,e,n,a,r,o){this.name=t,this.testName=e,this.expected=n,this.testEnvironmentArg=a,this.async=r,this.callback=o,this.assertions=[]};g.prototype={init:function(){var t=p("qunit-tests");if(t){var e=document.createElement("strong");e.innerHTML="Running "+this.name;var n=document.createElement("li");n.appendChild(e),n.className="running",n.id=this.id="test-output"+y++,t.appendChild(n)}},setup:function(){this.module!=k.previousModule&&(k.previousModule&&v.moduleDone({name:k.previousModule,failed:k.moduleStats.bad,passed:k.moduleStats.all-k.moduleStats.bad,total:k.moduleStats.all}),k.previousModule=this.module,k.moduleStats={all:0,bad:0},v.moduleStart({name:this.module})),k.current=this,this.testEnvironment=d({setup:function(){},teardown:function(){}},this.moduleTestEnvironment),this.testEnvironmentArg&&d(this.testEnvironment,this.testEnvironmentArg),v.testStart({name:this.testName}),v.current_testEnvironment=this.testEnvironment;try{k.pollution||i(),this.testEnvironment.setup.call(this.testEnvironment)}catch(t){v.ok(!1,"Setup failed on "+this.testName+": "+t.message)}},run:function(){if(this.async&&v.stop(),k.notrycatch)return void this.callback.call(this.testEnvironment);try{this.callback.call(this.testEnvironment)}catch(t){u("Test "+this.testName+" died, exception and test follows",t,this.callback),v.ok(!1,"Died on test #"+(this.assertions.length+1)+": "+t.message+" - "+v.jsDump.parse(t)),i(),k.blocking&&start()}},teardown:function(){try{this.testEnvironment.teardown.call(this.testEnvironment),c()}catch(t){v.ok(!1,"Teardown failed on "+this.testName+": "+t.message)}},finish:function(){this.expected&&this.expected!=this.assertions.length&&v.ok(!1,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run");var e=0,n=0,a=p("qunit-tests");if(k.stats.all+=this.assertions.length,k.moduleStats.all+=this.assertions.length,a){for(var r=document.createElement("ol"),o=0;o<this.assertions.length;o++){var s=this.assertions[o],i=document.createElement("li");i.className=s.result?"pass":"fail",i.innerHTML=s.message||(s.result?"okay":"failed"),r.appendChild(i),s.result?e++:(n++,k.stats.bad++,k.moduleStats.bad++)}v.config.reorder&&m.sessionStorage&&(n?sessionStorage.setItem("qunit-"+this.module+"-"+this.testName,n):sessionStorage.removeItem("qunit-"+this.module+"-"+this.testName)),0==n&&(r.style.display="none");var c=document.createElement("strong");c.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+n+"</b>, <b class='passed'>"+e+"</b>, "+this.assertions.length+")</b>";var l=document.createElement("a");l.innerHTML="Rerun",l.href=v.url({filter:h([c]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")}),f(c,"click",function(){var t=c.nextSibling.nextSibling,e=t.style.display;t.style.display="none"===e?"block":"none"}),f(c,"dblclick",function(e){var n=e&&e.target?e.target:t.event.srcElement;("span"==n.nodeName.toLowerCase()||"b"==n.nodeName.toLowerCase())&&(n=n.parentNode),t.location&&"strong"===n.nodeName.toLowerCase()&&(t.location=v.url({filter:h([n]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")}))});var i=p(this.id);i.className=n?"fail":"pass",i.removeChild(i.firstChild),i.appendChild(c),i.appendChild(l),i.appendChild(r)}else for(var o=0;o<this.assertions.length;o++)this.assertions[o].result||(n++,k.stats.bad++,k.moduleStats.bad++);try{v.reset()}catch(d){u("reset() failed, following Test "+this.testName+", exception and reset fn follows",d,v.reset)}v.testDone({name:this.testName,failed:n,passed:this.assertions.length-n,total:this.assertions.length})},queue:function(){function t(){o(function(){e.setup()}),o(function(){e.run()}),o(function(){e.teardown()}),o(function(){e.finish()})}var e=this;o(function(){e.init()});var n=v.config.reorder&&m.sessionStorage&&+sessionStorage.getItem("qunit-"+this.module+"-"+this.testName);n?t():o(t)}};var v={module:function(t,e){k.currentModule=t,k.currentModuleTestEnviroment=e},asyncTest:function(t,e,n){2===arguments.length&&(n=e,e=0),v.test(t,e,n,!0)},test:function(t,e,a,r){var o,s='<span class="test-name">'+t+"</span>";if(2===arguments.length&&(a=e,e=null),e&&"object"==typeof e&&(o=e,e=null),k.currentModule&&(s='<span class="module-name">'+k.currentModule+"</span>: "+s),n(k.currentModule+": "+t)){var i=new g(s,t,e,o,r,a);i.module=k.currentModule,i.moduleTestEnvironment=k.currentModuleTestEnviroment,i.queue()}},expect:function(t){k.current.expected=t},ok:function(t,e){t=!!t;var n={result:t,message:e};e=r(e),v.log(n),k.current.assertions.push({result:t,message:e})},equal:function(t,e,n){v.push(e==t,t,e,n)},notEqual:function(t,e,n){v.push(e!=t,t,e,n)},deepEqual:function(t,e,n){v.push(v.equiv(t,e),t,e,n)},notDeepEqual:function(t,e,n){v.push(!v.equiv(t,e),t,e,n)},strictEqual:function(t,e,n){v.push(e===t,t,e,n)},notStrictEqual:function(t,e,n){v.push(e!==t,t,e,n)},raises:function(t,e,n){var a,r=!1;"string"==typeof e&&(n=e,e=null);try{t()}catch(o){a=o}a&&(e?"regexp"===v.objectType(e)?r=e.test(a):a instanceof e?r=!0:e.call({},a)===!0&&(r=!0):r=!0),v.ok(r,n)},start:function(){k.semaphore--,k.semaphore>0||(k.semaphore<0&&(k.semaphore=0),m.setTimeout?t.setTimeout(function(){k.timeout&&clearTimeout(k.timeout),k.blocking=!1,s()},13):(k.blocking=!1,s()))},stop:function(e){k.semaphore++,k.blocking=!0,e&&m.setTimeout&&(clearTimeout(k.timeout),k.timeout=t.setTimeout(function(){v.ok(!1,"Test timed out"),v.start()},e))}};v.equals=v.equal,v.same=v.deepEqual;var k={queue:[],blocking:!0,reorder:!0,noglobals:!1,notrycatch:!1};!function(){var e,n=t.location||{search:"",protocol:"file:"},a=n.search.slice(1).split("&"),r=a.length,o={};if(a[0])for(var s=0;r>s;s++)e=a[s].split("="),e[0]=decodeURIComponent(e[0]),e[1]=e[1]?decodeURIComponent(e[1]):!0,o[e[0]]=e[1],e[0]in k&&(k[e[0]]=e[1]);v.urlParams=o,k.filter=o.filter,v.isLocal=!("file:"!==n.protocol)}(),"undefined"==typeof exports||"undefined"==typeof require?(d(t,v),t.QUnit=v):(d(exports,v),exports.QUnit=v),d(v,{config:k,init:function(){d(k,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1e3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:0});var t=p("qunit-tests"),e=p("qunit-banner"),n=p("qunit-testresult");t&&(t.innerHTML=""),e&&(e.className=""),n&&n.parentNode.removeChild(n),t&&(n=document.createElement("p"),n.id="qunit-testresult",n.className="result",t.parentNode.insertBefore(n,t),n.innerHTML="Running...<br/>&nbsp;")},reset:function(){if(t.jQuery)jQuery("#qunit-fixture").html(k.fixture);else{var e=p("qunit-fixture");e&&(e.innerHTML=k.fixture)}},triggerEvent:function(t,e,n){document.createEvent?(n=document.createEvent("MouseEvents"),n.initMouseEvent(e,!0,!0,t.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n)):t.fireEvent&&t.fireEvent("on"+e)},is:function(t,e){return v.objectType(e)==t},objectType:function(t){if("undefined"==typeof t)return"undefined";if(null===t)return"null";var e=Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]||"";switch(e){case"Number":return isNaN(t)?"nan":"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return e.toLowerCase()}return"object"==typeof t?"object":void 0},push:function(t,e,n,o){var s={result:t,message:o,actual:e,expected:n};o=r(o)||(t?"okay":"failed"),o='<span class="test-message">'+o+"</span>",n=r(v.jsDump.parse(n)),e=r(v.jsDump.parse(e));var i=o+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+n+"</pre></td></tr>";if(e!=n&&(i+='<tr class="test-actual"><th>Result: </th><td><pre>'+e+"</pre></td></tr>",i+='<tr class="test-diff"><th>Diff: </th><td><pre>'+v.diff(n,e)+"</pre></td></tr>"),!t){var c=a();c&&(s.source=c,i+='<tr class="test-source"><th>Source: </th><td><pre>'+r(c)+"</pre></td></tr>")}i+="</table>",v.log(s),k.current.assertions.push({result:!!t,message:i})},url:function(e){e=d(d({},v.urlParams),e);var n,a="?";for(n in e)a+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t.location.pathname+a.slice(0,-1)},begin:function(){},done:function(){},log:function(){},testStart:function(){},testDone:function(){},moduleStart:function(){},moduleDone:function(){}}),("undefined"==typeof document||"complete"===document.readyState)&&(k.autorun=!0),f(t,"load",function(){v.begin({});var e=d({},k);v.init(),d(k,e),k.blocking=!1;var n=p("qunit-userAgent");n&&(n.innerHTML=navigator.userAgent);var a=p("qunit-header");a&&(a.innerHTML='<a href="'+v.url({filter:void 0})+'"> '+a.innerHTML+'</a> <label><input name="noglobals" type="checkbox"'+(k.noglobals?' checked="checked"':"")+'>noglobals</label><label><input name="notrycatch" type="checkbox"'+(k.notrycatch?' checked="checked"':"")+">notrycatch</label>",f(a,"change",function(e){var n={};n[e.target.name]=e.target.checked?!0:void 0,t.location=v.url(n)}));var r=p("qunit-testrunner-toolbar");if(r){var o=document.createElement("input");if(o.type="checkbox",o.id="qunit-filter-pass",f(o,"click",function(){var t=document.getElementById("qunit-tests");if(o.checked)t.className=t.className+" hidepass";else{var e=" "+t.className.replace(/[\n\t\r]/g," ")+" ";t.className=e.replace(/ hidepass /," ")}m.sessionStorage&&(o.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))}),m.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests")){o.checked=!0;var s=document.getElementById("qunit-tests");s.className=s.className+" hidepass"}r.appendChild(o);var i=document.createElement("label");i.setAttribute("for","qunit-filter-pass"),i.innerHTML="Hide passed tests",r.appendChild(i)}var c=p("qunit-fixture");c&&(k.fixture=c.innerHTML),k.autostart&&v.start()}),v.equiv=function(){function t(t,e,n){var a=v.objectType(t);return a?"function"===v.objectType(e[a])?e[a].apply(e,n):e[a]:void 0}var e,n=[],a=[],r=function(){function t(t,e){return t instanceof e.constructor||e instanceof t.constructor?e==t:e===t}return{string:t,"boolean":t,number:t,"null":t,undefined:t,nan:function(t){return isNaN(t)},date:function(t,e){return"date"===v.objectType(t)&&e.valueOf()===t.valueOf()},regexp:function(t,e){return"regexp"===v.objectType(t)&&e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline},"function":function(){var t=n[n.length-1];return t!==Object&&"undefined"!=typeof t},array:function(t,n){var r,o,s,i;if("array"!==v.objectType(t))return!1;if(i=n.length,i!==t.length)return!1;for(a.push(n),r=0;i>r;r++){for(s=!1,o=0;o<a.length;o++)a[o]===n[r]&&(s=!0);if(!s&&!e(n[r],t[r]))return a.pop(),!1}return a.pop(),!0},object:function(t,r){var o,s,i,c=!0,l=[],u=[];if(r.constructor!==t.constructor)return!1;n.push(r.constructor),a.push(r);for(o in r){for(i=!1,s=0;s<a.length;s++)a[s]===r[o]&&(i=!0);if(l.push(o),!i&&!e(r[o],t[o])){c=!1;break}}n.pop(),a.pop();for(o in t)u.push(o);return c&&e(l.sort(),u.sort())}}}();return e=function(){var e=Array.prototype.slice.apply(arguments);return e.length<2?!0:function(e,n){return e===n?!0:null===e||null===n||"undefined"==typeof e||"undefined"==typeof n||v.objectType(e)!==v.objectType(n)?!1:t(e,r,[n,e])}(e[0],e[1])&&arguments.callee.apply(this,e.splice(1,e.length-1))}}(),v.jsDump=function(){function t(t){return'"'+t.toString().replace(/"/g,'\\"')+'"'}function e(t){return t+""}function n(t,e,n){var a=o.separator(),r=o.indent(),s=o.indent(1);return e.join&&(e=e.join(","+a+s)),e?[t,s+e,r+n].join(a):t+n}function a(t){var e=t.length,a=Array(e);for(this.up();e--;)a[e]=this.parse(t[e]);return this.down(),n("[",a,"]")}var r=/^function (\w+)/,o={parse:function(t,e){var n=this.parsers[e||this.typeOf(t)];return e=typeof n,"function"==e?n.call(this,t):"string"==e?n:this.parsers.error},typeOf:function(t){var e;return e=null===t?"null":"undefined"==typeof t?"undefined":v.is("RegExp",t)?"regexp":v.is("Date",t)?"date":v.is("Function",t)?"function":void 0!==typeof t.setInterval&&"undefined"!=typeof t.document&&"undefined"==typeof t.nodeType?"window":9===t.nodeType?"document":t.nodeType?"node":"object"==typeof t&&"number"==typeof t.length&&t.length>=0?"array":typeof t},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(t){if(!this.multiline)return"";var e=this.indentChar;return this.HTML&&(e=e.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(t||0)).join(e)},up:function(t){this._depth_+=t||1},down:function(t){this._depth_-=t||1},setParser:function(t,e){this.parsers[t]=e},quote:t,literal:e,join:n,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(t){var e="function",a="name"in t?t.name:(r.exec(t)||[])[1];return a&&(e+=" "+a),e+="(",e=[e,v.jsDump.parse(t,"functionArgs"),"){"].join(""),n(e,v.jsDump.parse(t,"functionCode"),"}")},array:a,nodelist:a,arguments:a,object:function(t){var e=[];v.jsDump.up();for(var a in t)e.push(v.jsDump.parse(a,"key")+": "+v.jsDump.parse(t[a]));return v.jsDump.down(),n("{",e,"}")},node:function(t){var e=v.jsDump.HTML?"&lt;":"<",n=v.jsDump.HTML?"&gt;":">",a=t.nodeName.toLowerCase(),r=e+a;for(var o in v.jsDump.DOMAttrs){var s=t[v.jsDump.DOMAttrs[o]];s&&(r+=" "+o+"="+v.jsDump.parse(s,"attribute"))}return r+n+e+"/"+a+n},functionArgs:function(t){var e=t.length;if(!e)return"";for(var n=Array(e);e--;)n[e]=String.fromCharCode(97+e);return" "+n.join(", ")+" "},key:t,functionCode:"[code]",attribute:t,string:t,date:t,regexp:e,number:e,"boolean":e},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0};return o}(),v.diff=function(){function t(t,e){for(var n=new Object,a=new Object,r=0;r<e.length;r++)null==n[e[r]]&&(n[e[r]]={rows:new Array,o:null}),n[e[r]].rows.push(r);for(var r=0;r<t.length;r++)null==a[t[r]]&&(a[t[r]]={rows:new Array,n:null}),a[t[r]].rows.push(r);for(var r in n)1==n[r].rows.length&&"undefined"!=typeof a[r]&&1==a[r].rows.length&&(e[n[r].rows[0]]={text:e[n[r].rows[0]],row:a[r].rows[0]},t[a[r].rows[0]]={text:t[a[r].rows[0]],row:n[r].rows[0]});for(var r=0;r<e.length-1;r++)null!=e[r].text&&null==e[r+1].text&&e[r].row+1<t.length&&null==t[e[r].row+1].text&&e[r+1]==t[e[r].row+1]&&(e[r+1]={text:e[r+1],row:e[r].row+1},t[e[r].row+1]={text:t[e[r].row+1],row:r+1});for(var r=e.length-1;r>0;r--)null!=e[r].text&&null==e[r-1].text&&e[r].row>0&&null==t[e[r].row-1].text&&e[r-1]==t[e[r].row-1]&&(e[r-1]={text:e[r-1],row:e[r].row-1},t[e[r].row-1]={text:t[e[r].row-1],row:r-1});return{o:t,n:e}}return function(e,n){e=e.replace(/\s+$/,""),n=n.replace(/\s+$/,"");var a=t(""==e?[]:e.split(/\s+/),""==n?[]:n.split(/\s+/)),r="",o=e.match(/\s+/g);null==o?o=[" "]:o.push(" ");var s=n.match(/\s+/g);if(null==s?s=[" "]:s.push(" "),0==a.n.length)for(var i=0;i<a.o.length;i++)r+="<del>"+a.o[i]+o[i]+"</del>";else{if(null==a.n[0].text)for(n=0;n<a.o.length&&null==a.o[n].text;n++)r+="<del>"+a.o[n]+o[n]+"</del>";for(var i=0;i<a.n.length;i++)if(null==a.n[i].text)r+="<ins>"+a.n[i]+s[i]+"</ins>";else{var c="";for(n=a.n[i].row+1;n<a.o.length&&null==a.o[n].text;n++)c+="<del>"+a.o[n]+o[n]+"</del>";r+=" "+a.n[i].text+s[i]+c
}}return r}}()}(this);var mockList=[];$.getJSON=function(t,e){if(!mockList.length)throw"No mocks prepared! Detected on:"+t;$.each(mockList,function(n,a){var r=new RegExp(a.url);if(t.match(r))return $.get(a.proxy,e),!1;if(n===mockList.length-1)throw"Unmocked request to:"+t})},mockList=[{url:"http://soundcloud.com/matas/hobnotropic",proxy:"fixtures/hobnotropic.json"},{url:"https://soundcloud.com/matas/hobnotropic",proxy:"fixtures/hobnotropic.json"},{url:"http://api.soundcloud.com/tracks/49931",proxy:"fixtures/hobnotropic.json"},{url:"http://soundcloud.com/forss/sets/soulhack",proxy:"fixtures/soulhack.json"},{url:"http://api.soundcloud.com/users/183/tracks",proxy:"fixtures/forss-tracks.json"},{url:"http://soundcloud.com/forss/city-ports",proxy:"fixtures/city-ports.json"},{url:"http://soundcloud.com/forss",proxy:"fixtures/forss.json"},{url:"http://soundcloud.com/matas/favorites",proxy:"fixtures/favorites.json"},{url:"http://soundcloud.com/groups/field-recordings",proxy:"fixtures/group.json"},{url:"http://api.soundcloud.com/groups/8/tracks",proxy:"fixtures/group-tracks.json"},{url:"http://soundcloud.com/alex/a-phone-call-on-saturday-1",proxy:"fixtures/alex-call.json"}],module("rendering"),asyncTest("track",11,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-controls .sc-play").text(),"Play","The play button is set correctly"),equal(e.find(".sc-controls .sc-pause.hidden").text(),"Pause","The pause button is set correctly"),equal(e.find(".sc-info h3 a").text(),"Hobnotropic","The title is set correctly"),equal(e.find(".sc-info h4 a").text(),"matas","The username is set correctly"),equal(e.find(".sc-info p:contains(Kinda of an experiment)").length,1,"The track description is set correctly"),equal(e.find(".sc-artwork-list li.active img").length,1,"First track artwork is activated"),equal(e.find(".sc-waveform-container img").length,1,"First track waveform is loaded"),equal(e.find(".sc-scrubber .sc-buffer").length,1,"Track buffer is here"),equal(e.find(".sc-scrubber .sc-played").length,1,"Play buffer is here"),equal(e.find(".sc-scrubber .sc-position").text(),"0.00","Initial track position here"),equal(e.find(".sc-scrubber .sc-duration").text(),"8.09","Track duration here"),start()});var t=$('<a href="http://soundcloud.com/matas/hobnotropic">Hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("loading class",2,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.hasClass("loading"),!1,"Player has no loading class when it's rendered"),start()});var t=$('<a href="http://soundcloud.com/matas/hobnotropic">Hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer(),equal($(".sc-player.loading").length,1,"Player has a loading class untill it's rendered")}),asyncTest("inherit class",1,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.hasClass("myclass"),!0,"Player has inherited the class from the source link"),start()});var t=$('<a href="http://soundcloud.com/matas/hobnotropic" class="myclass">Hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("set",3,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,11,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"City Ports","First track is selected and has correct title"),equal(e.find(".sc-trackslist li:eq(1) .sc-track-duration").text(),"4.34","Track duration is correct in the tracklist"),start()});var t=$('<a href="http://soundcloud.com/forss/sets/soulhack">Soulhack</a>');$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("user",3,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,29,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"Journeyman Acappella","First track is selected and has correct title"),equal(e.find(".sc-trackslist li:eq(1) .sc-track-duration").text(),"2.17","Track duration is correct in the tracklist"),start()});var t=$('<a href="http://soundcloud.com/forss/">Forss tracks</a>');$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("favorites",3,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,50,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"Fun Fact","First track is selected and has correct title"),equal(e.find(".sc-trackslist li:eq(1) .sc-track-duration").text(),"6.49","Track duration is correct in the tracklist"),start()});var t=$('<a href="http://soundcloud.com/matas/favorites">Matas favorites</a>');$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("group",3,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,50,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"the dawkins riots","First track is selected and has correct title"),equal(e.find(".sc-trackslist li:eq(1) .sc-track-duration").text(),"14.59","Track duration is correct in the tracklist"),start()});var t=$('<a href="http://soundcloud.com/groups/field-recordings">Field recordings group</a>');$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("multiple links",3,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,3,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"Hobnotropic","First track is selected and has correct title"),equal(e.find(".sc-trackslist li:eq(1) .sc-track-duration").text(),"2.22","Track duration is correct in the tracklist"),start()});var t=$("<div></div>");t.append('<a href="http://soundcloud.com/matas/hobnotropic">Matas hobnotropic</a>').append('<a href="http://soundcloud.com/forss/city-ports">Forss City Ports</a>').append('<a href="http://soundcloud.com/alex/a-phone-call-on-saturday-1">Phone call</a>'),$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("api url track",3,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,1,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"Hobnotropic","First track is selected and has correct title"),equal(e.find(".sc-trackslist li:eq(0) .sc-track-duration").text(),"8.09","Track duration is correct in the tracklist"),start()});var t=$('<a href="http://api.soundcloud.com/tracks/49931">Matas hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer()}),asyncTest("ssl track",2,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,1,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"Hobnotropic","First track is selected and has correct title"),start()});var t=$('<a href="https://soundcloud.com/matas/hobnotropic">Matas hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer()}),module("options",{setup:function(){},teardown:function(){$.scPlayer.destroy()}}),asyncTest("beforeRender",4,function(){var t=$('<a href="http://soundcloud.com/matas/hobnotropic">Hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer({beforeRender:function(t){ok(!0,"beforeRender called"),equal(t[0].title,"Hobnotropic","The track data is passed to the callback"),equal($(this).hasClass("sc-player"),!0,"The function scope is correct"),equal($(this).find(".sc-trackslist li a").text(),"Hobnotropic","The player DOM is already rendered"),start()}})}),asyncTest("customClass",1,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.hasClass("very-special"),!0,"The customClass is set correctly"),start()});var t=$('<a href="http://soundcloud.com/matas/hobnotropic">Hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer({customClass:"very-special"})}),asyncTest("loadArtworks",2,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-artwork-list img").length,1,"only one artwork loaded"),equal(e.find(".sc-artwork-list .sc-loading-artwork").length,10,"placeholders for artworks prepared"),start()});var t=$('<a href="http://soundcloud.com/forss/sets/soulhack">Soulhack</a>');$("#qunit-fixture").append(t),t.scPlayer({loadArtworks:1})}),asyncTest("continuePlayback:true",2,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);$(".sc-trackslist li:first").click(),ok(e.find(".sc-trackslist li:first").is(".active"),"First track has to be selected initially"),$(document).trigger("scPlayer:onMediaEnd"),ok(e.find(".sc-trackslist li:eq(1)").is(".active"),"Second track has to be selected"),start()});var t=$('<a href="http://soundcloud.com/forss/sets/soulhack">Soulhack</a>');$("#qunit-fixture").append(t),t.scPlayer({continuePlayback:!0})}),asyncTest("continuePlayback:false",2,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);$(".sc-trackslist li:first").click(),ok(e.find(".sc-trackslist li:first").is(".active"),"First track has to be selected initially"),$(document).trigger("scPlayer:onMediaEnd"),ok(e.find(".sc-trackslist li:first").is(".active"),"First track still has to be selected"),start()});var t=$('<a href="http://soundcloud.com/forss/sets/soulhack">Soulhack</a>');$("#qunit-fixture").append(t),t.scPlayer({continuePlayback:!1})}),asyncTest("autoPlay",2,function(){$(document).one("onPlayerPlay",function(t){var e=$(t.target);ok(!0,"The track is playing"),equal(e.hasClass("playing"),!0,"The playingClass is set correctly"),start()});var t=$('<a href="http://soundcloud.com/matas/hobnotropic">Hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer({autoPlay:!0})}),asyncTest("apiKey",function(){$(document).one("onTrackDataLoaded",function(t){equal(t.url,"http://api.soundcloud.com/resolve?url=http://soundcloud.com/matas/hobnotropic&format=json&consumer_key=myTestKey&callback=?","The custom API key was used"),start()});var t=$('<a href="http://soundcloud.com/matas/hobnotropic">Hobnotropic</a>');$("#qunit-fixture").append(t),t.scPlayer({apiKey:"myTestKey"})}),asyncTest("links",3,function(){$(document).one("onPlayerInit",function(t){var e=$(t.target);equal(e.find(".sc-trackslist li").length,3,"All the tracks are in the list"),equal(e.find(".sc-trackslist li.active a").text(),"Hobnotropic","First track is selected and has correct title"),equal(e.find(".sc-trackslist li:eq(1) .sc-track-duration").text(),"2.22","Track duration is correct in the tracklist"),start()});var t=$("<div></div>");$("#qunit-fixture").append(t),t.scPlayer({links:[{url:"http://soundcloud.com/matas/hobnotropic",title:"Hobnotropic"},{url:"http://soundcloud.com/forss/city-ports",title:"City Ports"},{url:"http://soundcloud.com/alex/a-phone-call-on-saturday-1",title:"Phone call"}]})}),asyncTest("randomize",1,function(){function t(){for(var t=1;t<n.length;t++)if(n[t]!==n[0]){ok(!0,"Randomized playlist found!");break}start()}function e(){$(document).one("onPlayerInit",function(a){$(a.target);n.push($.map($(".sc-trackslist li a"),function(t){return t.href}).join("")),n.length<7?e():t()});var a=$('<a href="http://soundcloud.com/forss/sets/soulhack">Soulhack</a>');$("#qunit-fixture").html(a),a.scPlayer({randomize:!0})}var n=[];e()});